#!/bin/sh

usage() {
cat << EOF
git-flog version 0.0.1

Print selected commit hash.
EOF
}

case "$1" in
	-h)
	shift
	usage
	exit 0
	;;
esac

git log --graph --color --all --format="%C(auto)%h%d %s %C(black)%C(bold)%cr" |
	fzf --no-sort --tiebreak=index --preview 'git show --color `echo {} | grep -o "[a-f0-9]\{7\}"`' |
	grep -o '[a-f0-9]\{7\}'
